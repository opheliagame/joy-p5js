!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("joyP5",[],e):"object"==typeof exports?exports.joyP5=e():t.joyP5=e()}(self,(()=>(()=>{"use strict";var t={d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{Drawable:()=>p,initJoyP5:()=>d});class r{constructor(t,e={},r={},s=[]){this.tag=t,this.attrs=e,this.kwargs=r,this.transform=[],this.children=s}clone(t={}){return new r(this.tag,this.attrs,t,[...this.children])}add(t){return this.children.push(t),this}show(t){console.log("showing");let e=window.self;e.push(),this.transform.forEach((t=>t.show()));for(const[t,r]of Object.entries(this.kwargs))e[t](r);e[this.tag](...Object.values(this.attrs)),this.children.forEach((t=>t.show())),e.pop()}toString(){return`<${this.tag} ${this.attrs}>`}translate({x:t=0,y:e=0}={x:0,y:0}){let r=new l(t,e);return this.transform.push(r),this}rotate({angle:t=0}={angle:0}){let e=new c(t);return this.transform.push(e),this}scale({x:t=1,y:e=1}={x:1,y:1}){let r=new u(t,e);return this.transform.push(r),this}repeat({n:t,transform:e,fnkwargs:r=null}){let s=this.clone();return Array(t).fill(0).map(((n,o)=>{let i=e instanceof h?e:e(o),a=new y(t-(o-1),i),l=null!=r?r(o):{},c=s.clone(l);c.transform.push(a),this.children.push(c)})),this}}class s extends r{constructor(t=0,e=0,r={}){super("point",{x:t,y:e}),this.x=t,this.y=e}equals(t){return t instanceof s&&t.x===this.x&&t.y===this.y}toString(){return`Point(${this.x}, ${this.y})`}}class n extends r{constructor(t=new s(0,0),e=100,r={}){super("circle",{cx:t.x,cy:t.y,d:2*e},r),this.center=t,this.radius=e}}class o extends r{constructor(t=new s(0,0),e=200,r=100,n={}){super("ellipse",{x:t.x,y:t.y,w:e,h:r,d:50},n),this.center=t,this.width=e,this.height=r}}class i extends r{constructor(t=new s(0,0),e=200,r=100,n={}){super("rect",{x:t.x,y:t.y,w:e,h:r},n),this.center=t,this.width=e,this.height=r}}class a extends r{constructor(t=new s(-100,0),e=new s(100,0),r={}){super("line",{x1:t.x,y1:t.y,x2:e.x,y2:e.y}),this.start=t,this.end=e}}class h{constructor(t,e={},r=[]){this.tag=t,this.attrs=e,this.children=r}show(){console.log("showing transform"),window.self[this.tag](...Object.values(this.attrs)),this.children.forEach((t=>t.show()))}translate({x:t=0,y:e=0}={x:0,y:0}){let r=new l(t,e);return this.children.push(r),this}rotate({angle:t=0}={angle:0}){let e=new c(t);return this.children.push(e),this}scale({x:t=1,y:e=t}={x:1,y:1}){let r=new u(t,e);return this.children.push(r),this}}class l extends h{constructor(t=0,e=0){super("translate",{x:t,y:e}),this.x=t,this.y=e}}class c extends h{constructor(t=0){super("rotate",{angle:-t}),this.angle=-t}}class u extends h{constructor(t=1,e=1){super("scale",{x:t,y:e}),this.x=t,this.y=e}}class y extends h{constructor(t,e){if(!(e instanceof h))return;let r=[];for(let s=0;s<t;s++){let t=new h(e.tag,e.attrs),s=e.children.map((t=>new h(t.tag,t.attrs)));r=r.concat([t,...s])}super(e.tag,e.attrs,r)}}var w=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]])}return r};class x{constructor(t){this.renderer=t}point(t={}){var{x:e=0,y:r=0}=t,n=w(t,["x","y"]);return new s(e,r,n)}circle(t={}){var{x:e=0,y:r=0,r:o=100}=t,i=w(t,["x","y","r"]);return new n(new s(e,r),o,i)}rectangle(t={}){var{x:e=0,y:r=0,w:n=200,h:o=100}=t,a=w(t,["x","y","w","h"]);return new i(new s(e,r),n,o,a)}ellipse(t={}){var{x:e=0,y:r=0,w:n=200,h:i=100}=t,a=w(t,["x","y","w","h"]);return new o(new s(e,r),n,i,a)}line(t={}){var{x1:e=-100,y1:r=0,x2:n=100,y2:o=0}=t,i=w(t,["x1","y1","x2","y2"]);return new a(new s(e,r),new s(n,o),i)}translate({x:t=0,y:e=0}={x:0,y:0}){return new l(t,e)}rotate({angle:t=0}={angle:0}){return new c(t)}scale({x:t=1,y:e=1}={x:1,y:1}){return new u(t,e)}repeat({n:t,transform:e,fnkwargs:r=null}){return new y(t,e)}}class p{show(){}}function d(){let t=window.self;return t.translate(t.width/2,t.height/2),t.rectMode(t.CENTER),t.angleMode(t.DEGREES),new x}return e})()));